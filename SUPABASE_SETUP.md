# دليل إعداد النسخ الاحتياطي في Supabase

## خطوات إعداد Bucket "Fadak" في Supabase

### 1. الدخول إلى لوحة تحكم Supabase
- اذهب إلى [supabase.com](https://supabase.com)
- سجل الدخول إلى حسابك
- اختر مشروعك

### 2. إنشاء Bucket جديد
1. في الشريط الجانبي، انقر على **"Storage"**
2. انقر على **"Create bucket"**
3. أدخل الاسم: `Fadak`
4. تأكد من أن الخيار **"Public bucket"** مفعل (للسماح بالرفع)
5. انقر على **"Create bucket"**

### 3. إعداد الصلاحيات
1. انقر على bucket "Fadak" الذي تم إنشاؤه
2. اذهب إلى تبويب **"Policies"**
3. انقر على **"Create policy"**
4. اختر **"Allow public access"** أو أنشئ سياسة مخصصة تسمح بالرفع:
   ```sql
   -- Allow authenticated users to upload files
   CREATE POLICY "Allow uploads" ON storage.objects
   FOR INSERT WITH CHECK (bucket_id = 'Fadak');
   ```

### 4. اختبار النسخ الاحتياطي
1. شغل التطبيق
2. اذهب إلى الإعدادات
3. انقر على "رفع نسخة احتياطية إلى السحابة"
4. يجب أن يظهر رسالة نجاح أو رسالة خطأ واضحة

## استكشاف الأخطاء

### إذا ظهر خطأ "Bucket 'Fadak' غير موجود"
- تأكد من إنشاء bucket بالاسم الصحيح "Fadak"
- تأكد من أن الاسم مطابق تماماً (حساس لحالة الأحرف)

### إذا ظهر خطأ في الصلاحيات
- تأكد من تفعيل "Public bucket"
- أو أضف الصلاحيات المناسبة في Policies

### إذا ظل النسخ الاحتياطي عالقاً
- افتح Debug Console في VS Code لرؤية رسائل الطباعة
- ستظهر رسائل مفصلة عن كل خطوة من خطوات العملية

## ملاحظات مهمة
- النسخة الاحتياطية تحتوي على الملف الكامل لقاعدة البيانات
- يمكنك تنزيل النسخ الاحتياطية من Supabase Storage
- تأكد من عمل نسخ احتياطي منتظم لتجنب فقدان البيانات
